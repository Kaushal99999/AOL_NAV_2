const mongoose = require('mongoose');

// Step 1: Set up Mongoose connection
mongoose.connect('mongodb://localhost:27017/Graph_routes', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
});

const costMatrixElementSchema = new mongoose.Schema({
    Mark1: {
      type: String,
      required: true
    },
    Mark2: {
      type: String,
      required: true
    },
    route: [{
      lat: Number,
      lng: Number
    }]
  });
  

// Step 3: Create a Mongoose model
const CostMatrixElement = mongoose.model('CostMatrixElement', costMatrixElementSchema);
// Step 4: Create a new instance of the model

const costMatrix = [
    // Array of objects representing source, destination, and route coordinates
    // { Mark1: 'Annapurna', Mark2: 'Madhurya', route:[{lat:12.826860059683916,lng: 77.50981618937654},
    //   {lat:12.826788626207962,lng: 77.50976630288987},
    //   {lat:12.826572130040207,lng: 77.50958254826416},
    //   {lat:12.826325772105514,lng: 77.50955957893594},
    //   {lat:12.82613913714594, lng: 77.50946004518033},
    //   {lat:12.825959967433445,lng: 77.50938348075604},
    //   {lat:12.825243287392222,lng: 77.50944473229795},
    //   {lat:12.825064117063027,lng: 77.50937582431331},
    //   {lat:12.82507158249595, lng: 77.50914613103116},
    //   {lat:12.824944670106039,lng: 77.50896237640545},
    //   {lat:12.82471361142608, lng: 77.50873833485687},
    //   {lat:12.8245558155375,  lng: 77.50863965622294}]},

    // { Mark1: 'Reception', Mark2: 'Madhurya', route: [{lat:12.82890329442217, lng: 77.51146128320234},
    //   {lat:12.828954215947935,lng: 77.51127196685222},
    //   {lat:12.829062424155957, lng:77.51097167195203},
    //   {lat:12.829170632317453, lng:77.51063873630181},
    //   {lat:12.82890329442217, lng:77.51043636365168},
    //   {lat:12.828483191441387, lng:77.51012301245147},
    //   {lat:12.828279504895185, lng:77.51007078725144},
    //   {lat:12.828012166053064,lng: 77.51010995615148},
    //   {lat:12.827706635599966,lng: 77.5101491250515},
    //   {lat:12.827452026605675,lng: 77.51017523765151},
    //   {lat:12.827178321649473,lng: 77.51007078725144},
    //   {lat:12.826942807844208, lng:77.50989452720133}]},

    //     { Mark1: 'Annapurna', Mark2: 'VishalaCafe', route:[{lat:12.826995045266804, lng:77.51079351073331},
    //       {lat:12.826929080156846, lng:77.51083410277079},
    //           {lat:12.826741739150277, lng:77.51083139663494},
    //               {lat:12.826475239731597, lng:77.510766449375},
    //       {lat:12.826134858875534, lng:77.51055266464435},
    //       {lat:12.826074170767557, lng:77.51051207260687},
    //       {lat:12.825918492510617, lng:77.51051748487853},
    //       {lat:12.825643793440294, lng:77.51038987629512},
    //       {lat:12.825186619450632, lng:77.51025095130429},
    //       {lat:12.825017295540011,lng: 77.51012591881255},
    //       {lat:12.824875063367049, lng:77.50993837007492},
    //       {lat:12.8249055416966, lng:77.50958758447308},
    //       {lat:12.825115503422051, lng:77.50947297135566},
    //       {lat:12.825054546810122, lng:77.50938961636118},
    //       {lat:12.824861517441631, lng:77.50934446573915},
    //       {lat:12.824712512213827, lng:77.50937572386208},
    //       {lat:12.824458525813407, lng:77.50924027196245},
    //       {lat:12.824390796066892, lng:77.50892074448356},
    //       {lat:12.824272268966634, lng:77.50869151824868}
    //       ]},
    //       { Mark1: 'Reception', Mark2: 'VishalaCafe', route:[{lat:12.82877575375648  ,lng:77.51177579182135},{lat:12.828692248669514  ,lng:77.51202456401798},{lat:12.828679796572828  ,lng:77.51193250144385 },{lat:  12.828350362911625 ,lng: 77.51192123920566},{lat:  12.828405268551784,lng: 77.5117185189182},{lat:12.828482136427864  ,lng:77.51141443848702 },{lat: 12.828559004280459 ,lng:77.51112162029405 },{lat:12.828482136427864  ,lng:  77.51079501538648},{lat: 12.828339381782143 ,lng:77.51064860628999 },{lat:  12.828196627055446  ,lng: 77.51049093495531 },{lat:     12.827933079654903 ,lng:77.51044588600254 },{lat:  12.827845230460047 ,lng:77.51038957481158 },
    //         {lat: 12.827759452022146,lng:77.5104794169414},{lat:12.827670532958171  ,lng:77.5104794169414},{lat:12.827461311507191  ,lng:77.51050087461138},{lat:12.827382853418207  ,lng:77.51051696786385},
    //         {lat: 12.82733054801198,lng:77.51051696786385},   {lat: 12.827257320424964,lng:77.51051160344636},   {lat: 12.827194553904883,lng: 77.5104794169414}
    //     ]}

    {
      Mark1: 'VishalaCafe', Mark2: 'Madhurya', route:[{lat:12.827042051478779,lng: 77.50999747426465},
        {lat:12.827180602602798,lng: 77.51007641717179},
        {lat:12.827353791400558,lng: 77.51014351864285},
        {lat:12.827456836207858,lng: 77.51017526079039},
        {lat:12.827489357056866,lng: 77.51022529065479},
        {lat:12.82739179449722, lng: 77.51031701207286},
        {lat:12.827294231899728,lng: 77.51039622602484},
        {lat:12.8271926041538,  lng: 77.51042957926778}]

    }
]


// Step 5: Save the instance to the database


CostMatrixElement.insertMany(costMatrix)
.then(()=>{
    console.log('inserted Succesfully');
})
.catch((error)=>{
    console.log(error)
});